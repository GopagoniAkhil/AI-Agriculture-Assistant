<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Agriculture Assistant - Smart Farming Decision Support System</title>

    <!-- GitHub Pages base path fix -->
    <base href="./">

    <!-- Minimal fallback to ensure CSS visibility -->
    <style>
      body { visibility: visible; }
    </style>

    <!-- FIXED CSS PATH -->
    <link rel="stylesheet" href="styles.css">

    <!-- TensorFlow.js for ML Disease Detection -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.0.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/mobilenet@2.1.0"></script>

    <!-- JavaScript Files -->
    <script src="translations.js" defer></script>
    <script src="voice.js" defer></script>
    <script src="history.js" defer></script>
    <script src="ml-disease-detection.js" defer></script>
    <script src="main.js" defer></script>
</head>

<body>
    <!-- Ethical Disclaimer Banner -->
    <div class="disclaimer-banner" id="disclaimerBanner">
        <div class="disclaimer-content">
            <span class="disclaimer-icon">‚ö†Ô∏è</span>
            <p>
                <strong>Educational Disclaimer:</strong>
                This AI Agriculture Assistant is designed for educational and demonstration purposes only.
                AI recommendations are advisory and should not replace expert consultation.
                Always verify with agricultural experts before making farming decisions.
            </p>
            <button class="disclaimer-close" onclick="closeBanner()">‚úï</button>
        </div>
    </div>

    <!-- Navigation Header -->
    <header class="header">
        <nav class="navbar">
            <div class="container">
                <div class="navbar-brand">
                    <h1 class="logo">üåæ AI Agriculture Assistant</h1>
                    <p class="tagline">Smart Farming Decision Support System</p>
                </div>

                <ul class="nav-links">
                    <li><a href="#home" class="nav-link active" onclick="navigateTo('home')">Home</a></li>
                    <li><a href="#disease" class="nav-link" onclick="navigateTo('disease')">Disease Detection</a></li>
                    <li><a href="#yield" class="nav-link" onclick="navigateTo('yield')">Yield Prediction</a></li>
                    <li>
                        <a href="#history" class="nav-link"
                           onclick="navigateTo('history'); initializeHistorySection();">
                            üìä History
                        </a>
                    </li>
                    <li><a href="#schemes" class="nav-link" onclick="navigateTo('schemes')">Gov. Schemes</a></li>
                </ul>

                <!-- Language Selector -->
                <div class="language-selector">
                    <select id="languageSelect" onchange="changeLanguage(this.value)">
                        <option value="en">English</option>
                        <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                        <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
                    </select>
                </div>

                <button class="menu-toggle" onclick="toggleMenu()">‚ò∞</button>
            </div>
        </nav>
    </header>

    <main>
        <!-- Home Section -->
        <section id="home" class="section active">
            <div class="container">
                <div class="welcome-greeting">
                    <h1>Welcome to AI Crop Disease Detection</h1>
                    <p>
                        Protect your crops with intelligent AI-powered disease detection
                        and expert pesticide recommendations
                    </p>
                </div>

                <div class="disease-highlight-banner">
                    <div class="highlight-content">
                        <div class="highlight-badge">üö® PRIMARY FEATURE</div>
                        <h2>üîç AI-Powered Crop Disease Detection</h2>
                        <h3>Detect Diseases Early & Get Pesticide Recommendations</h3>
                        <p>
                            Upload a leaf image to identify diseases and receive targeted
                            pesticide recommendations to save your crops
                        </p>

                        <div class="highlight-features">
                            <div class="highlight-feature">
                                <span class="highlight-icon">üì∏</span>
                                <strong>Instant Analysis</strong>
                                <span>Upload images for immediate disease identification</span>
                            </div>
                            <div class="highlight-feature">
                                <span class="highlight-icon">üíä</span>
                                <strong>Smart Pesticide Suggestions</strong>
                                <span>Get personalized pesticide & treatment recommendations</span>
                            </div>
                            <div class="highlight-feature">
                                <span class="highlight-icon">üìà</span>
                                <strong>Prevention Insights</strong>
                                <span>Learn prevention strategies & best practices</span>
                            </div>
                        </div>

                        <a href="#disease" class="btn btn-primary btn-large"
                           onclick="navigateTo('disease')">
                            Try Disease Detection Now ‚Üí
                        </a>
                    </div>

                    <div class="highlight-image">
                        <div class="highlight-visual">üåæüíö</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Disease Detection Section -->
        <section id="disease" class="section disease-section">
            <div class="container">
                <h2 class="section-title">
                    üîç Crop Disease Detection & Pesticide Recommendation
                </h2>

                <div class="module-grid">
                    <div class="module-card disease-upload-card">
                        <h3>üåæ Upload Leaf Image</h3>
                        <input type="file" id="imageInput" accept="image/*"
                               onchange="handleImageUpload(event)">
                        <img id="previewImage" class="image-preview hidden">
                    </div>

                    <div class="module-card disease-results-card">
                        <h3>üíä Analysis & Pesticide Recommendation</h3>
                        <div id="diseaseResults">
                            <p class="placeholder-text">Upload an image to see analysis</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Yield Prediction Section -->
        <section id="yield" class="section">
            <div class="container">
                <h2 class="section-title">üìä Yield Prediction Calculator</h2>

                <form id="yieldForm" onsubmit="predictYield(event)">
                    <label>Crop Type</label>
                    <select id="cropType" required>
                        <option value="">Select Crop</option>
                        <option value="potato">Potato</option>
                        <option value="tomato">Tomato</option>
                    </select>

                    <label>Area (hectares)</label>
                    <input type="number" id="area" step="0.1" required>

                    <label>Soil Quality</label>
                    <select id="soilQuality">
                        <option value="poor">Poor</option>
                        <option value="average">Average</option>
                        <option value="good">Good</option>
                        <option value="excellent">Excellent</option>
                    </select>

                    <button class="btn btn-primary">Calculate Yield</button>
                </form>

                <div id="yieldResults">
                    <p class="placeholder-text">Results will appear here</p>
                </div>
            </div>
        </section>

        <!-- History Section -->
        <section id="history" class="section">
            <div class="container">
                <h2 class="section-title">üìã Prediction History</h2>
                <div id="historyTable">
                    <p class="placeholder-text">No history available</p>
                </div>
            </div>
        </section>

        <!-- Government Schemes Section -->
        <section id="schemes" class="section">
            <div class="container">
                <h2 class="section-title">üìã Government Agricultural Schemes</h2>
                <div id="schemesList">
                    <p class="placeholder-text">Loading schemes...</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p>&copy; 2024 AI Agriculture Assistant | Educational Use Only</p>
    </footer>
</body>
</html>
